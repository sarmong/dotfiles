#!/bin/sh

existing_files=".bash_logout .bashrc .bash_profile"

for file in ${existing_files}; do
  path="$HOME/$file"
  # rename old files only if they are not links
  [ -f "$path" ] && [ ! -L "$path" ] && mv "$path" "$HOME/$file-old"
done

Darwin="bash git nvim lf scripts vim alacritty newsboat archive/macos/skhd archive/macos/spacebar archive/macos/yabai"

Linux="bash zsh git nvim lf scripts vim alacritty newsboat bottom npm awesome rofi touchegg picom mpv xorg"

if [ "$(uname)" = "Darwin" ]; then
  for dir in ${Darwin}; do
    stow -v --ignore=".DS_Store" --target="$HOME" "$(basename "$dir")"
  done
elif [ "$(uname)" = "Linux" ]; then
  for dir in ${Linux}; do
    stow -v --ignore=".DS_Store" --target="$HOME" "$(basename "$dir")"
  done
fi
